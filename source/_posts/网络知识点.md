---
title: 网络知识点
date: 2023-09-12 13:44:24
tags: [计算机网络]
---

## TCP与UDP  
### TCP与UDP的区别  
简单的说，
- TCP面向连接、速度慢、可靠传输、20字节头
- UDP无连接、速度快、不可靠传输、8字节头  

1. 连接
   - TCP需要建立连接
   - UDP无需连接， 即刻传输
2. 服务对象
   - TCP一对一、一条连接只有两个端点
   - UDP支持一对一、一对多、多对多的交互通信
3. 可靠性
   - TCP是可靠交付数据的，数据可以无差错、不丢失、不重复、按需到达
   - UDP是尽最大努力交付，不保证可靠交付
4. 拥塞控制、流量控制
   - TCP有拥塞控制和流量控制机制，保证数据传输的安全性
   - UDP没有这种机制，即使网路拥堵也不影响UDP发送速率
5. 首部开销
   - TCP首部长度较长，会有一定开销，首部在没有使用「选项」字段时是 20 个字节，如果使用了「选项」字段则会变长的。
   - UDP首部只有8个字节，且固定不变，开销较小
6. 传输方式
   - TCP是流式传输，没有边界，但保证顺序和可靠
   - UDP是一个包一个的发送，是有边界的，但可能会丢包和乱序
7. 分片不同
   - TCP的数据大小如果大于MSS大小，则会在传输层进行分片，目标主机收到后，也同样在传输层组装TCP数据包，如果中途丢失了一个分片，只需要传输丢失的这个分片
   - UDP 的数据大小如果大于 MTU 大小，则会在网络层进行分片，目标主机收到后，在网络层组装完数据，接着再传给传输层

### TCP与UDP的应用场景
TCP:HTTP,HTTPS,FTP文件传输
UDP：音视频、广播

### TCP是如何保证传输可靠的
1. 建立连接：通过三次握手建立连接，保证连接实体真实存在  
2. 序号机制：保证数据是按序、完整到达
3. 合理分片：TCP会按最大传输单元（MTU）合理分片，接收方会缓存未按序到达的数据，重新排序后交给应用层
4. 数据校验：TCP报文头有校验和，用于校验报文是否损坏
5. 超时重传：如果发送一直收不到应答，可能是发送数据丢失，也可能是应答丢失，发送方再等待一段时间后会进行重传
6. 流量控制：当接收方来不及处理发送方的数据，能通过滑动窗口，提示发送方降低发送的速率，防止包丢失。
7. 拥塞控制：网络层拥堵造成的拥塞，包括慢启动，拥塞避免，快速重传三种机制。